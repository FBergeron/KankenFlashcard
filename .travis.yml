language: android

jdk: oraclejdk8

cache: false

sudo: true

env:
    global:
        - ANDROID_API_LEVEL=27
        - ANDROID_BUILD_TOOLS_VERSION=27.0.3
        - ADB_INSTALL_TIMEOUT=20 # minutes (2 minutes by default)

android:
    components:
        - tools
        - platform-tools
        - build-tools-$ANDROID_BUILD_TOOLS_VERSION
        - android-$ANDROID_API_LEVEL

before_install:
    - yes | sdkmanager "platforms;android-27"

script:
    - ./gradlew clean build

before_script:
    - android list target
    - android list device
    - android list avd
    - android list sdk
    # - echo no | android create avd --force -n test -t android-27 --abi armeabi-v7a
    # - emulator -avd test -no-audio -no-window &
    # - android-wait-for-emulator
    # - adb shell input keyevent 82 &
